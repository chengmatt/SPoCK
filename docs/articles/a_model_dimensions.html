<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Description of Model and Data Dimensions • SPoCK</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Description of Model and Data Dimensions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SPoCK</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/a_model_dimensions.html">Description of Model and Data Dimensions</a></li>
    <li><a class="dropdown-item" href="../articles/b_model_parameters.html">Description of Model Parameters</a></li>
    <li><a class="dropdown-item" href="../articles/c_model_equations.html">Description of Model Equations</a></li>
    <li><a class="dropdown-item" href="../articles/d_model_report.html">Description of Model Report</a></li>
    <li><a class="dropdown-item" href="../articles/e_single_region_sablefish_case_study.html">Setting up a Single Region Model (Alaska Sablefish)</a></li>
    <li><a class="dropdown-item" href="../articles/f_single_region_bsai_pollock_case_study.html">Setting up a Single Region Model (BSAI Pollock)</a></li>
    <li><a class="dropdown-item" href="../articles/g_spatial_sablefish_case_study.html">Setting up a Spatial Model (Alaska Sablefish)</a></li>
    <li><a class="dropdown-item" href="../articles/h_closed_loop_simulations.html">Run Closed Loop Simulations</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Description of Model and Data Dimensions</h1>
            
      

      <div class="d-none name"><code>a_model_dimensions.Rmd</code></div>
    </div>

    
    
<p>The following tables describes all elements contained within
<code>input_list$data</code>, which is generated using the
<code>SPoCK::Setup_x</code> functions. Note that when
<code>n_sexes &gt; 1</code>, the first dimension will always be females
and the second dimension will always be males.</p>
<div class="section level2">
<h2 id="data-inputs-for-defining-model-dimensions">Data Inputs for Defining Model Dimensions<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-model-dimensions"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>years</code></td>
<td>Vector specifying number of years to model</td>
</tr>
<tr class="even">
<td><code>ages</code></td>
<td>Vector specifying number of ages to model</td>
</tr>
<tr class="odd">
<td><code>lens</code></td>
<td>Vector specifying number of lengths to model</td>
</tr>
<tr class="even">
<td><code>n_regions</code></td>
<td>Value specifying number of regions to model</td>
</tr>
<tr class="odd">
<td><code>n_sexes</code></td>
<td>Value specifying number of sexes to model</td>
</tr>
<tr class="even">
<td><code>n_fish_fleets</code></td>
<td>Value specifying number of fishery fleets to model</td>
</tr>
<tr class="odd">
<td><code>n_srv_fleets</code></td>
<td>Value specifying number of survey fleets to model</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="data-inputs-for-defining-recruitment-processes">Data Inputs for Defining Recruitment Processes<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-recruitment-processes"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>rec_lag</code></td>
<td>Value specifying the delay between spawning and when recruits enter
the population. For example, if recruits enter the population as age 2,
rec_lag would be specified as 2, such that the spawning biomass from
year – 2 produces these recruits</td>
</tr>
<tr class="even">
<td><code>Use_h_prior</code></td>
<td>Value specifying whether steepness priors are used. 0: Don’t use
priors, 1: Use Priors. Steepness priors are bounded between 0.2 and 1
with a scaled beta penalty.</td>
</tr>
<tr class="odd">
<td><code>h_mu</code></td>
<td>Vector of n_regions specifying the mean of the steepness prior. Must
be between 0.2 and 1</td>
</tr>
<tr class="even">
<td><code>h_sd</code></td>
<td>Vector of n_regions specifying the standard deviation of the
steepness prior. Must be &gt; 0</td>
</tr>
<tr class="odd">
<td><code>map_h_Pars</code></td>
<td>Vector of n_regions specifying whether or not the steepness for a
given region is mapped off.</td>
</tr>
<tr class="even">
<td><code>do_rec_bias_ramp</code></td>
<td>Value specifying whether or not the Methot and Taylor recruitment
bias ramp is conducted. 0: Don’t do bias ramp, 1: Do bias ramp</td>
</tr>
<tr class="odd">
<td><code>bias_year</code></td>
<td>Vector of years, specifying when to change the bias ramp. Can be
specified with an NA if do_rec_bias_ramp = 0</td>
</tr>
<tr class="even">
<td><code>sigmaR_switch</code></td>
<td>Value specifying when to transition between using an early period
sigma and late period sigma R for penalizing initial age deviations and
recruitment deviations. Specify as 0 if sigmaR early is equal to sigmaR
late.</td>
</tr>
<tr class="odd">
<td><code>sexratio</code></td>
<td>Vector specifying the recruitment sex ratio</td>
</tr>
<tr class="even">
<td><code>init_age_strc</code></td>
<td>Value specifying how the population age structure should be
initialized. 0: Initialize via iteration to equilibrium, 1: Initialize
with geometric series solution</td>
</tr>
<tr class="odd">
<td><code>init_F_prop</code></td>
<td>Value specifying the proportion of fishing mortality to apply to the
initial age deviations relative to the mean fishing mortality parameter
for fishery fleet 1 (the dominant fleet)</td>
</tr>
<tr class="even">
<td><code>rec_model</code></td>
<td>Value specifying the recruitment model. 0 == Mean Recruitment, 1 ==
Beverton-Holt with steepness parameterization</td>
</tr>
<tr class="odd">
<td><code>rec_dd</code></td>
<td>Value specifying the recruitment density dependence (only used when
there is a stock recruitment relationship) 0 == local density, 1 ==
global density, 999 == no density dependent stock recruitment form is
used</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="data-inputs-for-defining-biological-processes">Data Inputs for Defining Biological Processes<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-biological-processes"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>WAA</code></td>
<td>Weight-at-age values dimensioned by n_regions, n_years, n_ages,
n_sexes</td>
</tr>
<tr class="even">
<td><code>MatAA</code></td>
<td>Maturity-at-age values dimensioned by n_regions, n_years, n_ages,
n_sexes</td>
</tr>
<tr class="odd">
<td><code>AgeingError</code></td>
<td>Ageing error matrix dimensioned by n_ages, n_ages, where rows sum to
1</td>
</tr>
<tr class="even">
<td><code>fit_lengths</code></td>
<td>Value describing whether or not to fit length composition data. 0:
Don’t fit lengths, 1: Fit lengths</td>
</tr>
<tr class="odd">
<td><code>SizeAgeTrans</code></td>
<td>Size-age transition matrix dimensioned by n_regions, n_years,
n_lens, n_ages, n_sexes. Can be specified as NA if length compositions
are not fit</td>
</tr>
<tr class="even">
<td><code>Use_M_prior</code></td>
<td>Value specifying whether natural mortality priors are used. 0: Don’t
use prior, 1: Use prior</td>
</tr>
<tr class="odd">
<td><code>M_prior</code></td>
<td>Vector specifying the mean and standard deviation of natural
mortality in normal space. Element 1 should be the mean and element 2
should be the standard deviation. The prior is applied to the M
parameter and not the offset</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="data-inputs-for-defining-movement-processes">Data Inputs for Defining Movement Processes<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-movement-processes"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>do_recruits_move</code></td>
<td>Value specifying whether recruits are allowed to move. 0: Recruits
don’t move, 1: Recruits move</td>
</tr>
<tr class="even">
<td><code>use_fixed_movement</code></td>
<td>Value specifying whether or not to use a fixed movement matrix. 0:
Don’t use fixed movement, 1: Use fixed movement</td>
</tr>
<tr class="odd">
<td><code>Fixed_Movement</code></td>
<td>Fixed movement matrix dimensioned by n_regions, n_regions, n_years,
n_ages, n_sexes</td>
</tr>
<tr class="even">
<td><code>Use_Movement_Prior</code></td>
<td>Value specifying whether or not to use movement priors. 0: Don’t use
movement prior, 1: Use movement prior</td>
</tr>
<tr class="odd">
<td><code>Movement_prior</code></td>
<td>Array dimensioned by n_regions, n_regions, n_years, n_ages, n_sexes
specifying values for a Dirichlet prior</td>
</tr>
<tr class="even">
<td><code>map_Movement_Pars</code></td>
<td>Array by n_regions, n_regions, n_years, n_ages, n_sexes specifying
which movement parameters are shared and mapped off</td>
</tr>
<tr class="odd">
<td><code>cont_vary_movement</code></td>
<td>Integer indicating whether movement is continuously varying across
regions, years, and ages (0 = none, 1 = iid deviations)</td>
</tr>
<tr class="even">
<td><code>map_logit_move_devs</code></td>
<td>Array dimensioned by n_regions, n_regions - 1, n_years, n_ages
specifying which movement parameters are shared and mapped off</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="data-inputs-for-defining-tagging-processes">Data Inputs for Defining Tagging Processes<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-tagging-processes"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>UseTagging</code></td>
<td>Value indicating whether to use tagging data. 0: Don’t use tagging
data, 1: Use tagging data</td>
</tr>
<tr class="even">
<td><code>tag_release_indicator</code></td>
<td>Matrix dimensioned by n_tag_cohorts, 2. The 2 columns in this matrix
represent the tag region (column 1) for a given cohort (rows of the
matrix) and the tag year of the cohort (column 2).</td>
</tr>
<tr class="odd">
<td><code>n_tag_cohorts</code></td>
<td>Value specifying the number of tag cohorts released</td>
</tr>
<tr class="even">
<td><code>max_tag_liberty</code></td>
<td>Value specifying the maximum tag liberty to track cohorts</td>
</tr>
<tr class="odd">
<td><code>Tagged_Fish</code></td>
<td>Array dimensioned by n_tag_cohorts, n_ages, n_sexes for the number
of tagged fish from a given cohort</td>
</tr>
<tr class="even">
<td><code>Obs_Tag_Recap</code></td>
<td>Array dimensioned by max_tag_liberty, n_tag_cohorts, n_regions,
n_ages, n_sexes of individuals that are recaptured. If no age or sex
information is available to distinguish recaptured individuals, users
can initialize the array with 0s and the recaptured individuals should
be input into the first dimension of n_ages and the first dimension of
n_sexes. This is then coupled with move_age_tag_pool and
move_sex_tag_pool (see last two rows in this table for an example) to
ensure that the predicted recaptures are summed across ages and sexes
when fitting to the observed recaptures for a given likelihood.</td>
</tr>
<tr class="odd">
<td><code>Tag_LikeType</code></td>
<td>Value specifying the tag likelihood to use. 0: Poisson, 1: Negative
Binomial, 2: Multinomial release conditioned, 3: Multinomial recaptured
conditioned</td>
</tr>
<tr class="even">
<td><code>mixing_period</code></td>
<td>Value specifying the mixing period for tag cohorts. This still
requires the full history of the tag cohort to be input, but it ignores
the mixing period in the likelihood calculations.</td>
</tr>
<tr class="odd">
<td><code>t_tagging</code></td>
<td>Fraction of year in which tagging occurs. Specify at 1 if tagging
happens at the start of the year such that mortality is not
discounted</td>
</tr>
<tr class="even">
<td><code>Use_TagRep_Prior</code></td>
<td>Value specifying whether or not a tag reporting rate prior should be
used. 0: Don’t use prior, 1: Use prior</td>
</tr>
<tr class="odd">
<td><code>TagRep_PriorType</code></td>
<td>Value specifying the type of prior to use for tag reporting rates.
0: Symmetric beta prior that forces values away from the edges, 1:
regular beta prior</td>
</tr>
<tr class="even">
<td><code>TagRep_mu</code></td>
<td>Value specifying the mean of the tag reporting prior. This is not
required if TagRep_PriorType = 0, but is required if TagRep_PriorType =
1</td>
</tr>
<tr class="odd">
<td><code>TagRep_sd</code></td>
<td>Value specifying the standard deviation of the tag reporting
prior</td>
</tr>
<tr class="even">
<td><code>tag_selex</code></td>
<td>Value specifying how tag selectivity is specified. 0 == Uniform with
F resulting from Fleet 1, 1 == Sex Aggregated Selectivity with F
resulting from Fleet 1, 2 == Sex-Specific Selectivity with F resulting
from Fleet 1, 3 == Uniform with F resulting from a weighted sum of all
fleets, 4 == Sex Aggregated Selectivity with F resulting from a weighted
sum of all fleets, 5 == Sex-Specific Selectivity with F resulting from a
weighted sum of all fleets</td>
</tr>
<tr class="odd">
<td><code>tag_natmort</code></td>
<td>Value specifying how tag natural mortality is specified. 0 ==
Natural mortality aggregated across ages and sexes, 1 == Natural
mortality is age-specific but sex-aggregated, 2 == Natural mortality is
age aggregated but sex-specific, 3 == Natural mortality is age and
sex-specific</td>
</tr>
<tr class="even">
<td><code>move_age_tag_pool</code></td>
<td>Data list object detailing how tag recaptures along the age axis
should be pooled. If we have age information for tagging data, but are
fitting two age blocks (10 total ages) and want to pool these two age
blocks together when fitting to reduce computational cost, this can be
specified as: <code>move_age_tag_pool &lt;- list(c(1:5), c(6:10))</code>
where the first element in the list specifies the ages to sum or pool
across when, while the second element in the list specifies the age
groups to pool across when fitting. Conversely, if we don’t have an age
information, this list would be specified as:
<code>move_age_tag_pool &lt;- list(c(1:30))</code> where we are summing
across all ages for the observed and predicted tag recaptures when
fitting to these data</td>
</tr>
<tr class="odd">
<td><code>move_sex_tag_pool</code></td>
<td>Data list object detailing how tag recaptures along the sex axis
should be pooled. If we have sex information for tagging data and are
estimating sex-specific movement (2 sexes in this case), this would be
specified as: <code>move_sex_tag_pool &lt;- list(1, 2)</code> where the
first element in the list specifies the first sex and the second element
in the list specifies the second sex (i.e., no pooling in this case).
Conversely, if we don’t have sex information, this list would be
specified as: <code>move_sex_tag_pool &lt;- list(c(1:2))</code> where we
are summing across all sexes for the observed and predicted tag
recaptures when fitting to these data</td>
</tr>
<tr class="even">
<td><code>Tag_Reporting_blocks</code></td>
<td>Array dimensioned by n_regions and n_years indicating the regions
and years for which a block is specified as</td>
</tr>
<tr class="odd">
<td><code>map_Tag_Reporting_Pars</code></td>
<td>Array dimensioned by n_regions and n_years indicating the regions
and years for which a block is specified and which tagging parameters
are mapped of / shared</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="data-inputs-for-defining-catch-and-fishing-mortality-processes">Data Inputs for Defining Catch and Fishing Mortality Processes<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-catch-and-fishing-mortality-processes"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>ObsCatch</code></td>
<td>Observed catch data dimensioned by n_regions, n_years,
n_fish_fleets</td>
</tr>
<tr class="even">
<td><code>Catch_Type</code></td>
<td>Matrix dimensioned by n_years, n_fish_fleets describing when and for
what fishery fleet catch is aggregated across regions (0) or spatially
explicit (1). For example, in a case where we have 10 years and 1
fishery fleet, where fishery fleet 1 is spatially aggregated in the
first 5 years and fishery fleet 2 is spatially explicit, this would be
structured as:
<code>Catch_Type &lt;- array(c(rep(0, 5), rep(1, 5)), dim = c(n_years, n_fish_fleets))</code>
</td>
</tr>
<tr class="odd">
<td><code>UseCatch</code></td>
<td>Array dimensioned by n_regions, n_years, n_fish_fleets describing
whether to fit to catch data in a given year for a given fleet. 0: Don’t
fit catch, 1: Fit catch</td>
</tr>
<tr class="even">
<td><code>est_all_regional_F</code></td>
<td>Value specifying whether regional fishing mortality deviations are
all estimated or only a subset are. 0: A subset of fishing mortality
deviations are spatially aggregated, 1: All fishing mortality deviations
are spatially explicit, irrespective of whether catch is aggregated
across regions in certain periods</td>
</tr>
<tr class="odd">
<td><code>Catch_Constant</code></td>
<td>Vector dimensioned by n_fish_fleets specifying robustifying
constants to add to catch data</td>
</tr>
<tr class="even">
<td><code>Use_F_pen</code></td>
<td>Value specifying whether to use a fishing mortality penalty to
regularize fishing mortality deviations. 0: Don’t use regularity
penalty, 1: Use regularity penalty</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="data-inputs-for-defining-fishery-indices-and-compositions">Data Inputs for Defining Fishery Indices and Compositions<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-fishery-indices-and-compositions"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>ObsFishIdx</code></td>
<td>Fishery index dimensioned by n_regions, n_years, n_fish_fleets</td>
</tr>
<tr class="even">
<td><code>ObsFishIdx_SE</code></td>
<td>Fishery index standard errors dimensioned by n_regions, n_years,
n_fish_fleets</td>
</tr>
<tr class="odd">
<td><code>UseFishIdx</code></td>
<td>Array dimensioned by n_regions, n_years, n_fish_fleets describing
whether to fit to fishery index in a given year for a given fleet. 0:
Don’t fit fishery index, 1: Fit fishery index</td>
</tr>
<tr class="even">
<td><code>fish_idx_type</code></td>
<td>Matrix dimensioned by n_regions, n_fish_fleets specifying the index
type for a given region and fishery fleet. 0: Abundance index, 1:
Biomass index (uses <code>WAA</code> for calculations)</td>
</tr>
<tr class="odd">
<td><code>ObsFishAgeComps</code></td>
<td>Observed fishery age compositions dimensioned by n_regions, n_years,
n_ages, n_sexes, n_fish_fleets. This can be either input as proportions
or as numbers, since these are normalized again within the model</td>
</tr>
<tr class="even">
<td><code>UseFishAgeComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_fish_fleets specifying
whether or not to fit to fishery age compositions. 0: Don’t fit fishery
ages, 1: Fit fishery ages</td>
</tr>
<tr class="odd">
<td><code>ISS_FishAgeComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_fish_fleets specifying
the input sample size for a multinomial or Dirichlet-multinomial
likelihood. This is used in conjunction with
<code>Wt_FishAgeComps</code> or <code>ln_FishAge_theta</code> if a
Dirichlet-multinomial is used</td>
</tr>
<tr class="even">
<td><code>Wt_FishAgeComps</code></td>
<td>Array dimensioned by n_regions, n_sexes, n_fish_fleets specifying a
multinomial weight to apply to fishery age compositions, which should
ideally be derived using Francis re-weighting methods</td>
</tr>
<tr class="odd">
<td><code>ObsFishLenComps</code></td>
<td>Observed fishery length compositions dimensioned by n_regions,
n_years, n_lens, n_sexes, n_fish_fleets. This can be either input as
proportions or as numbers, since these are normalized again within the
model</td>
</tr>
<tr class="even">
<td><code>UseFishLenComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_fish_fleets specifying
whether or not to fit to fishery length compositions. 0: Don’t fit
fishery lengths, 1: Fit fishery lengths</td>
</tr>
<tr class="odd">
<td><code>ISS_FishLenComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_fish_fleets specifying
the input sample size for a multinomial or Dirichlet-multinomial
likelihood. This is used in conjunction with
<code>Wt_FishLenComps</code> or <code>ln_FishLen_theta</code> if a
Dirichlet-multinomial is used</td>
</tr>
<tr class="even">
<td><code>FishAgeComps_LikeType</code></td>
<td>Vector dimensioned by n_fish_fleets specifying the likelihood to use
for fitting fishery age compositions. 0: Multinomial, 1:
Dirichlet-multinomial, 2: Logistic-normal with iid covariance. More
options and details can be found in
<code>Get_Comp_Likelihoods.R</code>
</td>
</tr>
<tr class="odd">
<td><code>FishLenComps_LikeType</code></td>
<td>Vector dimensioned by n_fish_fleets specifying the likelihood to use
for fitting fishery length compositions. 0: Multinomial, 1:
Dirichlet-multinomial, 2: Logistic-normal with iid covariance. More
options and details can be found in
<code>Get_Comp_Likelihoods.R</code>
</td>
</tr>
<tr class="even">
<td><code>FishAgeComps_Type</code></td>
<td>Matrix dimensioned by n_years, n_fish_fleets specifying how age
composition data should be structured and fit to. 0: Aggregated across
sexes and regions, 1: Split by sexes and regions, 2: Joint by sex but
split by region. More options and details can be found in
<code>Get_Comp_Likelihoods.R</code>
</td>
</tr>
<tr class="odd">
<td><code>FishLenComps_Type</code></td>
<td>Matrix dimensioned by n_years, n_fish_fleets specifying how length
composition data should be structured and fit to. 0: Aggregated across
sexes and regions, 1: Split by sexes and regions, 2: Joint by sex but
split by region. More options and details can be found in
<code>Get_Comp_Likelihoods.R</code>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="data-inputs-for-defining-survey-indices-and-compositions">Data Inputs for Defining Survey Indices and Compositions<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-survey-indices-and-compositions"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>ObsSrvIdx</code></td>
<td>Survey index dimensioned by n_regions, n_years, n_srv_fleets</td>
</tr>
<tr class="even">
<td><code>ObsSrvIdx_SE</code></td>
<td>Survey index standard errors dimensioned by n_regions, n_years,
n_srv_fleets</td>
</tr>
<tr class="odd">
<td><code>UseSrvIdx</code></td>
<td>Array dimensioned by n_regions, n_years, n_srv_fleets describing
whether to fit to survey index in a given year for a given fleet. 0:
Don’t fit survey index, 1: Fit survey index</td>
</tr>
<tr class="even">
<td><code>srv_idx_type</code></td>
<td>Matrix dimensioned by n_regions, n_srv_fleets specifying the index
type for a given region and survey fleet. 0: Abundance index, 1: Biomass
index (uses <code>WAA</code> for calculations)</td>
</tr>
<tr class="odd">
<td><code>ObsSrvAgeComps</code></td>
<td>Observed survey age compositions dimensioned by n_regions, n_years,
n_ages, n_sexes, n_srv_fleets. This can be either input as proportions
or as numbers, since these are normalized again within the model</td>
</tr>
<tr class="even">
<td><code>UseSrvAgeComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_srv_fleets specifying
whether or not to fit to survey age compositions. 0: Don’t fit survey
ages, 1: Fit survey ages</td>
</tr>
<tr class="odd">
<td><code>ISS_SrvAgeComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_srv_fleets specifying the
input sample size for a multinomial or Dirichlet-multinomial likelihood.
This is used in conjunction with <code>Wt_SrvAgeComps</code> or
<code>ln_SrvAge_theta</code> if a Dirichlet-multinomial is used</td>
</tr>
<tr class="even">
<td><code>Wt_SrvAgeComps</code></td>
<td>Array dimensioned by n_regions, n_sexes, n_srv_fleets specifying a
multinomial weight to apply to survey age compositions, which should
ideally be derived using Francis re-weighting methods</td>
</tr>
<tr class="odd">
<td><code>ObsSrvLenComps</code></td>
<td>Observed survey length compositions dimensioned by n_regions,
n_years, n_lens, n_sexes, n_srv_fleets. This can be either input as
proportions or as numbers, since these are normalized again within the
model</td>
</tr>
<tr class="even">
<td><code>UseSrvLenComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_srv_fleets specifying
whether or not to fit to survey length compositions. 0: Don’t fit survey
lengths, 1: Fit survey lengths</td>
</tr>
<tr class="odd">
<td><code>ISS_SrvLenComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_srv_fleets specifying the
input sample size for a multinomial or Dirichlet-multinomial likelihood.
This is used in conjunction with <code>Wt_SrvLenComps</code> or
<code>ln_SrvLen_theta</code> if a Dirichlet-multinomial is used</td>
</tr>
<tr class="even">
<td><code>SrvAgeComps_LikeType</code></td>
<td>Vector dimensioned by n_srv_fleets specifying the likelihood to use
for fitting survey age compositions. 0: Multinomial, 1:
Dirichlet-multinomial, 2: Logistic-normal with iid covariance. More
options and details can be found in
<code>Get_Comp_Likelihoods.R</code>
</td>
</tr>
<tr class="odd">
<td><code>SrvLenComps_LikeType</code></td>
<td>Vector dimensioned by n_srv_fleets specifying the likelihood to use
for fitting survey length compositions. 0: Multinomial, 1:
Dirichlet-multinomial, 2: Logistic-normal with iid covariance. More
options and details can be found in
<code>Get_Comp_Likelihoods.R</code>
</td>
</tr>
<tr class="even">
<td><code>SrvAgeComps_Type</code></td>
<td>Matrix dimensioned by n_years, n_srv_fleets specifying how age
composition data should be structured and fit to. 0: Aggregated across
sexes and regions, 1: Split by sexes and regions, 2: Joint by sex but
split by region. More options and details can be found in
<code>Get_Comp_Likelihoods.R</code>
</td>
</tr>
<tr class="odd">
<td><code>SrvLenComps_Type</code></td>
<td>Matrix dimensioned by n_years, n_srv_fleets specifying how length
composition data should be structured and fit to. 0: Aggregated across
sexes and regions, 1: Split by sexes and regions, 2: Joint by sex but
split by region. More options and details can be found in
<code>Get_Comp_Likelihoods.R</code>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="data-inputs-for-defining-fishery-selectivity-and-catchability">Data Inputs for Defining Fishery Selectivity and Catchability<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-fishery-selectivity-and-catchability"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>cont_tv_fish_sel</code></td>
<td>Matrix dimensioned by n_regions, n_fish_fleets specifying whether or
not to do continuous time-varying selectivity, and the type of
continuous time-varying selectivity to do. 0: Don’t do continuous
time-varying selectivity, 1: iid continuous time-varying selectivity, 2:
random walk time-varying selectivity, 3: 3d gmrf continuous time-varying
selectivity with marginal variance (semi-parametric), 4: 3d gmrf
continuous time-varying selectivity with conditional variance
(semi-parametric). More options and details on this can be found in
<code>Get_PE_loglik.R</code>, <code>Get_3d_precision.R,</code> and
<code>Get_Selex.R</code>
</td>
</tr>
<tr class="even">
<td><code>fish_sel_blocks</code></td>
<td>Array dimensioned by n_regions, n_years, n_fish_fleets specifying
when a new selectivity might be specified. Unique numbers denote when a
given fishery selectivity block should be specified. For example, if we
have 1 region, 1 fishery fleet and 10 years, and we have two evenly
spaced time blocks, this would be specified as:
<code>fish_sel_blocks &lt;- array(c(rep(0,5),rep(1,5)), dim = c(n_regions, n_years, n_fish_fleets))</code>
where each unique number represents the selectivity block pattern to
apply in that given period.</td>
</tr>
<tr class="odd">
<td><code>fish_sel_model</code></td>
<td>Array dimensioned by n_regions, n_years, n_fish_fleets specifying
the selectivity pattern for a given region, year, and fishery fleet. It
is possible to switch selectivity forms mid-period for a given fleet, if
a new time block is specified. Several selectivity forms are currently
available. 0: Logistic with a50 and slope, 1: Gamma dome-shaped, 2:
Power function, 3: Logistic with a50 and a95. If two evenly spaced time
blocks are specified for the fishery (10 years), and we have logistic
selectivity in the first time block, and gamma selectivity in the second
time block, this would be specified as:
<code>fish_sel_model &lt;- array(c(rep(0,5),rep(1,5)), dim = c(n_regions, n_years, n_fish_fleets))</code>
where 0 from years 1 – 5 corresponds to logistic selectivity, and 1 from
years 6 – 10 corresponds to gamma selectivity. More options and details
can be found in <code>Get_Selex.R</code>
</td>
</tr>
<tr class="even">
<td><code>fish_q_blocks</code></td>
<td>Array dimensioned by n_regions, n_years, n_fish_fleets specifying
when a catchability block might be specified. Unique numbers denote when
a new catchability block should be specified. For example, if we have 1
region, 1 fishery fleet and 10 years, and we have two evenly spaced
catchability blocks, this would be specified as:
<code>fish_q_blocks &lt;- array(c(rep(0,5),rep(1,5)), dim = c(n_regions, n_years, n_fish_fleets))</code>
where each unique number represents the unique catchability estimate to
apply in that given period.</td>
</tr>
<tr class="odd">
<td><code>Use_fish_q_prior</code></td>
<td>Fishery catchability prior indicator 0 == don’t use, 1 == use</td>
</tr>
<tr class="even">
<td><code>fish_q_prior</code></td>
<td>Fishery catchability prior values by region, time blocks, fishery
fleet, and 2 (mean, and sd in the 4 dimension of array)</td>
</tr>
<tr class="odd">
<td><code>map_ln_fishsel_devs</code></td>
<td>Array of values dimensioned by n_regions, n_years, n_ages, n_sexes,
and n_fish_fleets indicating which values are mapped off</td>
</tr>
<tr class="even">
<td><code>map_fish_q</code></td>
<td>Array of values dimensioned by n_regions, n_q_time_blocks, and
n_fish_fleets indicating which values are mapped off</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="data-inputs-for-defining-survey-selectivity-and-catchability">Data Inputs for Defining Survey Selectivity and Catchability<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-survey-selectivity-and-catchability"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>cont_tv_srv_sel</code></td>
<td>Matrix dimensioned by n_regions, n_srv_fleets specifying whether or
not to do continuous time-varying selectivity, and the type of
continuous time-varying selectivity to do. 0: Don’t do continuous
time-varying selectivity, 1: iid continuous time-varying selectivity, 2:
random walk time-varying selectivity, 3: 3d gmrf continuous time-varying
selectivity with marginal variance (semi-parametric), 4: 3d gmrf
continuous time-varying selectivity with conditional variance
(semi-parametric). More options and details on this can be found in
<code>Get_PE_loglik.R</code>, <code>Get_3d_precision.R,</code> and
<code>Get_Selex.R</code>
</td>
</tr>
<tr class="even">
<td><code>srv_sel_blocks</code></td>
<td>Array dimensioned by n_regions, n_years, n_srv_fleets specifying
when a new selectivity might be specified. Unique numbers denote when a
given survey selectivity block should be specified. For example, if we
have 1 region, 1 survey fleet and 10 years, and we have two evenly
spaced time blocks, this would be specified as:
<code>srv_sel_blocks &lt;- array(c(rep(0,5),rep(1,5)), dim = c(n_regions, n_years, n_srv_fleets))</code>
where each unique number represents the selectivity block pattern to
apply in that given period.</td>
</tr>
<tr class="odd">
<td><code>srv_sel_model</code></td>
<td>Array dimensioned by n_regions, n_years, n_srv_fleets specifying the
selectivity pattern for a given region, year, and survey fleet. It is
possible to switch selectivity forms mid-period for a given fleet, if a
new time block is specified. Several selectivity forms are currently
available. 0: Logistic with a50 and slope, 1: Gamma dome-shaped, 2:
Power function, 3: Logistic with a50 and a95. If two evenly spaced time
blocks are specified for the survey (10 years), and we have logistic
selectivity in the first time block, and gamma selectivity in the second
time block, this would be specified as:
<code>srv_sel_model &lt;- array(c(rep(0,5),rep(1,5)), dim = c(n_regions, n_years, n_srv_fleets))</code>
where 0 from years 1 – 5 corresponds to logistic selectivity, and 1 from
years 6 – 10 corresponds to gamma selectivity. More options and details
can be found in <code>Get_Selex.R</code>
</td>
</tr>
<tr class="even">
<td><code>srv_q_blocks</code></td>
<td>Array dimensioned by n_regions, n_years, n_srv_fleets specifying
when a catchability block might be specified. Unique numbers denote when
a new catchability block should be specified. For example, if we have 1
region, 1 survey fleet and 10 years, and we have two evenly spaced
catchability blocks, this would be specified as:
<code>srv_q_blocks &lt;- array(c(rep(0,5),rep(1,5)), dim = c(n_regions, n_years, n_srv_fleets))</code>
where each unique number represents the unique catchability estimate to
apply in that given period.</td>
</tr>
<tr class="odd">
<td><code>Use_srv_q_prior</code></td>
<td>Survey catchability prior indicator 0 == don’t use, 1 == use</td>
</tr>
<tr class="even">
<td><code>srv_q_prior</code></td>
<td>Survey catchability prior values by region, time blocks, survey
fleet, and 2 (mean, and sd in the 4 dimension of array)</td>
</tr>
<tr class="odd">
<td><code>map_ln_srvsel_devs</code></td>
<td>Array of values dimensioned by n_regions, n_years, n_ages, n_sexes,
and n_srv_fleets indicating which values are mapped off</td>
</tr>
<tr class="even">
<td><code>map_srv_q</code></td>
<td>Array of values dimensioned by n_regions, n_q_time_blocks, and
n_srv_fleets indicating which values are mapped off</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="data-inputs-for-defining-model-weighting">Data Inputs for Defining Model Weighting<a class="anchor" aria-label="anchor" href="#data-inputs-for-defining-model-weighting"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>sablefish_ADMB</code></td>
<td>Value specific to bridging exercise for sablefish ADMB assessment.
0: Don’t mimic sablefish ADMB assessment for calculating and normalizing
length composition data, 1: Mimic sablefish ADMB assessment</td>
</tr>
<tr class="even">
<td><code>likelihoods</code></td>
<td>Value specifying the type of likelihoods to use. 0: Use ADMB
likelihoods (with associated weights), 1: Use TMB likelihoods (without
any associated weights; weighted using standard deviation or input
sample size values)</td>
</tr>
<tr class="odd">
<td><code>Wt_Catch</code></td>
<td>Weight applied to fishery catch likelihoods.</td>
</tr>
<tr class="even">
<td><code>Wt_FishIdx</code></td>
<td>Weight applied to fishery index likelihoods.</td>
</tr>
<tr class="odd">
<td><code>Wt_SrvIdx</code></td>
<td>Weight applied to survey index likelihoods.</td>
</tr>
<tr class="even">
<td><code>Wt_Rec</code></td>
<td>Weight applied to initial age deviations and recruitment
deviations.</td>
</tr>
<tr class="odd">
<td><code>Wt_F</code></td>
<td>Weight applied to fishing mortality deviations.</td>
</tr>
<tr class="even">
<td><code>Wt_Tagging</code></td>
<td>Weight applied to tagging data.</td>
</tr>
<tr class="odd">
<td><code>Wt_FishAgeComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_sexes, n_fish_fleets
specifying a multinomial weight to apply to fishery age compositions,
which should ideally be derived using Francis re-weighting methods</td>
</tr>
<tr class="even">
<td><code>Wt_FishLenComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_sexes, n_fish_fleets
specifying a multinomial weight to apply to fishery length compositions,
which should ideally be derived using Francis re-weighting methods</td>
</tr>
<tr class="odd">
<td><code>Wt_SrvAgeComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_sexes, n_srv_fleets
specifying a multinomial weight to apply to survey age compositions,
which should ideally be derived using Francis re-weighting methods</td>
</tr>
<tr class="even">
<td><code>Wt_SrvLenComps</code></td>
<td>Array dimensioned by n_regions, n_years, n_sexes, n_srv_fleets
specifying a multinomial weight to apply to survey length compositions,
which should ideally be derived using Francis re-weighting methods</td>
</tr>
</tbody>
</table>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew Cheng.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
